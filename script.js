// Текущий вопрос в анкете
let currentQuestion = 1;
const totalQuestions = 10;

// Базы данных институтов и колледжей с изображениями
const institutesData = [
    {
        id: 1,
        name: "МГУ им. М.В. Ломоносова",
        location: "Москва",
        description: "Ведущий университет России с широким спектром направлений подготовки.",
        tags: ["Государственный", "Разнопрофильный", "Москва"],
        region: "central",
        field: "science",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/Moscow_State_University_main_building_%282%29.jpg/800px-Moscow_State_University_main_building_%282%29.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        // Детальная информация
        details: {
            description: "Московский государственный университет имени М.В. Ломоносова - старейший и крупнейший классический университет России. Основан в 1755 году. В составе МГУ 41 факультет, 15 научно-исследовательских институтов, 4 музея, 6 филиалов, Научный парк, Ботанический сад, Научная библиотека.",
            conditions: "Обучение проводится по программам бакалавриата, специалитета, магистратуры и аспирантуры. Формы обучения: очная, очно-заочная, заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по профильным предметам (в зависимости от факультета) и пройти дополнительные вступительные испытания (ДВИ) по некоторым направлениям.",
            price: "Стоимость обучения на платной основе: от 350 000 до 500 000 рублей в год в зависимости от факультета и программы.",
            contacts: "Приёмная комиссия: +7 (495) 939-10-00, info@msu.ru",
            address: "119991, Москва, ГСП-1, Ленинские горы, д. 1",
            teachers: ["Ректор: Садовничий Виктор Антонович", "Декан механико-математического факультета: Шафаревич Игорь Ростиславович", "Декан факультета вычислительной математики и кибернетики: Соколов Игорь Анатольевич"],
            officialSite: "https://www.msu.ru"
        },
        coordinates: [55.703, 37.528]
    },
    {
        id: 2,
        name: "МФТИ",
        location: "Московская область, Долгопрудный",
        description: "Ведущий технический вуз страны, specializing в физике и IT.",
        tags: ["Государственный", "Технический", "Московская область"],
        region: "central",
        field: "it",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7d/MIPT_main_building.jpg/800px-MIPT_main_building.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1591123120675-6f7f1aae0e5b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Московский физико-технический институт (национальный исследовательский университет) — ведущий технический университет России, готовящий специалистов в области теоретической и прикладной физики, математики, информатики, химии, биологии и смежных дисциплин.",
            conditions: "Обучение проводится по программам бакалавриата, специалитета, магистратуры и аспирантуры. Основная форма обучения - очная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по математике (профиль), физике/информатике (в зависимости от факультета) и русскому языку. Дополнительно проводится собеседование.",
            price: "Стоимость обучения на платной основе: от 300 000 до 450 000 рублей в год в зависимости от факультета.",
            contacts: "Приёмная комиссия: +7 (495) 408-45-54, abit@mipt.ru",
            address: "141701, Московская область, г. Долгопрудный, Институтский пер., 9",
            teachers: ["Ректор: Кудрявцев Николай Николаевич", "Декан ФРТК: Старовойтов Василий Васильевич", "Декан ФАКИ: Шафрановский Владимир Александрович"],
            officialSite: "https://mipt.ru"
        },
        coordinates: [55.929, 37.518]
    },
    {
        id: 3,
        name: "НИУ ВШЭ",
        location: "Москва",
        description: "Крупный университет с focus на социально-экономиные и гуманитарные науки.",
        tags: ["Государственный", "Экономика", "Москва"],
        region: "central",
        field: "economics",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/HSE_main_building_%28Myasnitskaya_20%29.jpg/800px-HSE_main_building_%28Myasnitskaya_20%29.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1607237138185-eedd9c632b0b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Национальный исследовательский университет «Высшая школа экономики» — один из ведущих университетов России, специализирующийся на социально-экономиных и гуманитарных науках, компьютерных науках и математике.",
            conditions: "Обучение проводится по программам бакалавриата, магистратуры и аспирантуры. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по профильным предметам (в зависимости от факультета). На некоторые программы проводятся дополнительные вступительные испытания.",
            price: "Стоимость обучения на платной основе: от 300 000 до 600 000 рублей в год в зависимости от факультета и программы.",
            contacts: "Приёмная комиссия: +7 (495) 771-32-42, abit@hse.ru",
            address: "101000, Москва, ул. Мясницкая, 20",
            teachers: ["Ректор: Кузьминов Ярослав Иванович", "Декан факультета экономических наук: Радаев Вадим Валерьевич", "Декан факультета компьютерных наук: Аржанцев Иван Владимирович"],
            officialSite: "https://www.hse.ru"
        },
        coordinates: [55.761, 37.628]
    },
    {
        id: 4,
        name: "МГТУ им. Н.Э. Баумана",
        location: "Москва",
        description: "Легендарный технический университет, готовящий инженеров различных специальностей.",
        tags: ["Государственный", "Инженерия", "Москва"],
        region: "central",
        field: "engineering",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/8/89/Bauman_Moscow_State_Technical_University_%282%29.jpg/800px-Bauman_Moscow_State_Technical_University_%282%29.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1581094794329-c8112a89af12?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Московский государственный технический университет имени Н.Э. Баумана — первый и крупнейший технический университет России, известный подготовкой инженеров высшей квалификации для различных отраслей промышленности.",
            conditions: "Обучение проводится по программам специалитета, бакалавриата, магистратуры и аспирантуры. Основная форма обучения - очная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по математике (профиль), физике и русскому языку. На некоторые специальности требуется дополнительный экзамен.",
            price: "Стоимость обучения на платной основе: от 250 000 до 400 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (499) 263-63-91, abit@bmstu.ru",
            address: "105005, Москва, 2-я Бауманская ул., 5, стр. 1",
            teachers: ["Ректор: Александров Анатолий Александрович", "Декан факультета радиоэлектроники и лазерной техники: Петров Сергей Викторович", "Декан факультета специального машиностроения: Иванов Дмитрий Николаевич"],
            officialSite: "https://bmstu.ru"
        },
        coordinates: [55.766, 37.684]
    },
    {
        id: 5,
        name: "СПбГУ",
        location: "Санкт-Петербург",
        description: "Один из старейших и крупнейших университетов России с богатой историей.",
        tags: ["Государственный", "Разнопрофильный", "Санкт-Петербург"],
        region: "northwest",
        field: "science",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5c/Spbu_main_building.jpg/800px-Spbu_main_building.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1532094340708-7d2d5e6c2f3f?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Санкт-Петербургский государльный университет — старейший университет России, основанный в 1724 году. Включает в себя 24 специальных факультета и института, 13 научно-исследовательских институтов.",
            conditions: "Обучение проводится по программым бакалавриата, специалитета, магистратуры и аспирантуры. Формы обучения: очная, очно-заочная, заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по профильным предметам (в зависимости от факультета) и пройти дополнительные вступительные испытания по некоторым направлениям.",
            price: "Стоимость обучения на платной основе: от 200 000 до 450 000 рублей в год в зависимости от факультета и программы.",
            contacts: "Приёмная комиссия: +7 (812) 363-66-33, abit@spbu.ru",
            address: "199034, Санкт-Петербург, Университетская наб., 7-9",
            teachers: ["Ректор: Кропачев Николай Михайлович", "Декан математико-механического факультета: Журавлев Юрий Иванович", "Декан факультета прикладной математики: Ивановский Ростислав Иосифович"],
            officialSite: "https://spbu.ru"
        },
        coordinates: [59.939, 30.298]
    },
    {
        id: 6,
        name: "Университет ИТМО",
        location: "Санкт-Петербург",
        description: "Ведущий вуз в области информационных технологий, механики и оптики.",
        tags: ["Государственный", "IT", "Санкт-Петербург"],
        region: "northwest",
        field: "it",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/ITMO_University_%28Lomonosova_9%29.jpg/800px-ITMO_University_%28Lomonosova_9%29.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Университет ИТМО — национальный исследовательский университет, ведущий вуз России в области информационных и фотонных технологий. Известен своими разработками в области компьютерных наук, оптики и робототехники.",
            conditions: "Обучение проводится по программам бакалавриата, магистратуры и аспирантуры. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по математике (профиль), информатике/физике и русскому языку. На некоторые программы проводятся олимпиады и дополнительные испытания.",
            price: "Стоимость обучения на платной основе: от 220 000 до 350 000 рублей в год в зависимости от факультета.",
            contacts: "Приёмная комиссия: +7 (812) 457-18-01, abit@itmo.ru",
            address: "197101, Санкт-Петербург, Кронверкский пр., 49",
            teachers: ["Ректор: Васильев Владимир Николаевич", "Декан факультета информационных технологий и программирования: Парфенов Владимир Глебович", "Декан факультета фотоники: Бабкин Александр Евгеньевич"],
            officialSite: "https://itmo.ru"
        },
        coordinates: [59.956, 30.317]
    },
    {
        id: 7,
        name: "НГУ",
        location: "Новосибирск",
        description: "Ведущий научно-образовательный центр Сибири с сильной исследовательской базой.",
        tags: ["Государственный", "Наука", "Новосибирск"],
        region: "siberian",
        field: "science",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/4d/Novosibirsk_State_University_2016.jpg/800px-Novosibirsk_State_University_2016.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1523580494863-6f3031224c94?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Новосибирский национальный исследовательский государственный университет — ведущий университет Сибири, расположенный вблизи Новосибирского Академгородка. Тесно сотрудничает с институтами Сибирского отделения РАН.",
            conditions: "Обучение проводится по программам бакалавриата, магистратуры и аспирантуры. Основная форма обучения - очная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по профильным предметам (в зависимости от факультета). На некоторые направления проводятся дополнительные испытания и олимпиады.",
            price: "Стоимость обучения на платной основе: от 150 000 до 250 000 рублей в год в зависимости от факультета.",
            contacts: "Приёмная комиссия: +7 (383) 363-40-37, abit@nsu.ru",
            address: "630090, Новосибирск, ул. Пирогова, 1",
            teachers: ["Ректор: Федорук Михаил Петрович", "Декан механико-математического факультета: Гутман Александр Эммануилович", "Декан факультета естественных наук: Резников Владимир Анатольевич"],
            officialSite: "https://www.nsu.ru"
        },
        coordinates: [54.846, 83.095]
    },
    {
        id: 8,
        name: "КФУ",
        location: "Казань",
        description: "Крупный университет в Приволжском федеральном округе с разнообразными программами.",
        tags: ["Государственный", "Разнопрофильный", "Казань"],
        region: "volga",
        field: "science",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/4/47/Kazan_Federal_University_%28old_building%29.jpg/800px-Kazan_Federal_University_%28old_building%29.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Казанский (Приволжский) федеральный университет — один из старейших университетов России, основанный в 1804 году. Крупный научно-образовательный центр, объединяющий традиции и современные образовательные технологии.",
            conditions: "Обучение проводится по программам бакалавриата, специалитета, магистратуры и аспирантуры. Формы обучения: очная, очно-заочная, заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по профильным предметам (в зависимости от института/факультета). На некоторые направления проводятся дополнительные испытания.",
            price: "Стоимость обучения на платной основе: от 120 000 до 200 000 рублей в год в зависимости от направления подготовки.",
            contacts: "Приёмная комиссия: +7 (843) 233-71-09, prkom.kfu@kpfu.ru",
            address: "420008, Казань, ул. Кремлевская, 18",
            teachers: ["Ректор: Гафуров Ильшат Рафкатович", "Директор Института математики и механики: Тимергалин Наиль Наилевич", "Директор Института вычислительной математики и информационных технологий: Хадиуллин Ильдар Габдуллович"],
            officialSite: "https://kpfu.ru"
        },
        coordinates: [55.791, 49.122]
    },
    {
        id: 9,
        name: "УрФУ им. Б.Н. Ельцина",
        location: "Екатеринбург",
        description: "Крупнейший университет Уральского региона с широким спектром направлений.",
        tags: ["Государственный", "Разнопрофильный", "Екатеринбург"],
        region: "ural",
        field: "engineering",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5d/UrFU_main_building.jpg/800px-UrFU_main_building.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Уральский федеральный университет имени первого Президента России Б.Н. Ельцина — один из крупнейших вузов России, расположенный в Екатеринбурге. Включает в себя 18 институтов, предлагающих образовательные программы по различным направлениям.",
            conditions: "Обучение проводится по программам бакалавриата, специалитета, магистратуры и аспирантуры. Формы обучения: очная, очно-заочная, заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по профильным предметам (в зависимости от института). На некоторые направления проводятся дополнительные испытания.",
            price: "Стоимость обучения на платной основе: от 130 000 до 220 000 рублей в год в зависимости от направления подготовки.",
            contacts: "Приёмная комиссия: +7 (343) 375-44-44, priem@urfu.ru",
            address: "620002, Екатеринбург, ул. Мира, 19",
            teachers: ["Ректор: Кокшаров Виктор Анатольевич", "Директор Института естественных наук: Иванов Сергей Николаевич", "Директор Института новых материалов и технологий: Петрова Ольга Михайловна"],
            officialSite: "https://urfu.ru"
        },
        coordinates: [56.844, 60.653]
    },
    {
        id: 10,
        name: "ДВФУ",
        location: "Владивосток",
        description: "Ведущий университет Дальнего Востока России с современным кампусом.",
        tags: ["Государственный", "Разнопрофильный", "Владивосток"],
        region: "far-east",
        field: "science",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/7/7c/FEFU_campus.jpg/800px-FEFU_campus.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Дальневосточный федеральный университет — крупнейший высшее учебное заведение на Дальнем Востоке России. Расположен на острове Русский во Владивостоке. Имеет современный кампус и развитую инфраструктуру.",
            conditions: "Обучение проводится по программам бакалавриата, специалитета, магистратуры и аспирантуры. Формы обучения: очная, очно-заочная, заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по профильным предметам (в зависимости от школы). На некоторые направления проводятся дополнительные испытания.",
            price: "Стоимость обучения на платной основе: от 110 000 до 190 000 рублей в год в зависимости от направления подготовки.",
            contacts: "Приёмная комиссия: +7 (423) 265-24-24, abit@dvfu.ru",
            address: "690922, Приморский край, о. Русский, п. Аякс, 10",
            teachers: ["Ректор: Анисимов Никита Юрьевич", "Директор Школы естественных наук: Борисов Александр Владимирович", "Директор Школы цифровой экономики: Ким Александр Александрович"],
            officialSite: "https://www.dvfu.ru"
        },
        coordinates: [43.024, 131.892]
    },
    {
        id: 11,
        name: "СФУ",
        location: "Красноярск",
        description: "Крупный университет Сибирского федерального округа с strong engineering programs.",
        tags: ["Государственный", "Технический", "Красноярск"],
        region: "siberian",
        field: "engineering",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/9/9a/SFU_main_building.jpg/800px-SFU_main_building.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Сибирский федеральный университет — один из крупнейших вузов России, расположенный в Красноярске. Образован в 2006 году путём объединения четырёх красноярских вузов. Имеет strong engineering и natural science программы.",
            conditions: "Обучение проводится по программам бакалавриата, специалитета, магистратуры и аспирантуры. Формы обучения: очная, очно-заочная, заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по профильным предметам (в зависимости от института). На некоторые направления проводятся дополнительные испытания.",
            price: "Стоимость обучения на платной основе: от 100 000 до 180 000 рублей в год в зависимости от направления подготовки.",
            contacts: "Приёмная комиссия: +7 (391) 206-22-22, priem@sfu-kras.ru",
            address: "660041, Красноярск, пр. Свободный, 79",
            teachers: ["Ректор: Колмаков Максим Владимирович", "Директор Политехнического института: Шнейдер Светлана Викторовна", "Директор Института цветных металлов и материаловедения: Попов Михаил Алексеевич"],
            officialSite: "https://www.sfu-kras.ru"
        },
        coordinates: [56.011, 92.852]
    },
    {
        id: 12,
        name: "РУДН",
        location: "Москва",
        description: "Университет с международным focus, готовящий специалистов для работы за рубежом.",
        tags: ["Государственный", "Международный", "Москва"],
        region: "central",
        field: "economics",
        form: "full-time",
        image: "https://upload.wikimedia.org/wikipedia/commons/thumb/5/5a/RUDN_University_main_building.jpg/800px-RUDN_University_main_building.jpg",
        fallbackImage: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Российский университет дружбы народов — один из ведущих вузов России, известный своими международными программами и многонациональным составом студентов. Готовит специалистов для работы в России и за рубежом.",
            conditions: "Обучение проводится по программам бакалавриата, специалитета, магистратуры и аспирантуры. Формы обучения: очная, очно-заочная, заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо сдать ЕГЭ по профильным предметам (в зависимости от факультета). Для иностранных граждан действуют особые условия приёма.",
            price: "Стоимость обучения на платной основе: от 200 000 до 400 000 рублей в год в зависимости от факультета и программы.",
            contacts: "Приёмная комиссия: +7 (495) 787-38-03, priem@rudn.ru",
            address: "117198, Москва, ул. Миклухо-Маклая, 6",
            teachers: ["Ректор: Олег Александрович Ястребов", "Декан филологического факультета: Виктор Владимирович Барабаш", "Декан экономического факультета: Кира Владимировна Екимова"],
            officialSite: "https://www.rudn.ru"
        },
        coordinates: [55.652, 37.502]
    }
];

const collegesData = [
    {
        id: 1,
        name: "Московский колледж управления и права",
        location: "Москва",
        description: "Готовит специалистов в области юриспруденции, экономики и государственного управления.",
        tags: ["Государственный", "Экономика", "Право", "Москва"],
        region: "moscow",
        specialty: "economics",
        image: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=cop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Московский колледж управления и права готовит специалистов среднего звена для работы в государственных и муниципальных органах власти, правоохранительных органах, юридических службах организаций.",
            conditions: "Обучение проводится по программам среднего профессионального образования. Формы обучения: очная, очно-заочная, заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На некоторые специальности может проводиться собеседование.",
            price: "Стоимость обучения на платной основе: от 80 000 до 120 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (495) 123-45-67, info@mcup.ru",
            address: "107078, Москва, ул. Садовая-Спасская, д. 15",
            teachers: ["Директор: Иванова Мария Петровна", "Зав. отделением экономики: Петров Алексей Владимирович", "Зав. отделением права: Сидорова Ольга Николаевна"],
            officialSite: "https://mcup.ru"
        },
        coordinates: [55.772, 37.638]
    },
    {
        id: 2,
        name: "Санкт-Петербургский технический колледж",
        location: "Санкт-Петербург",
        description: "Один из старейших технических колледжей России с современными лабораториями.",
        tags: ["Государственный", "Технический", "Санкт-Петербург"],
        region: "petersburg",
        specialty: "tech",
        image: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Санкт-Петербургский технический колледж — одно из старейших учебных заведений среднего профессионального образования в России. Имеет современную материально-техническую базу и сильный преподавательский состав.",
            conditions: "Обучение проводится по программам среднего профессионального образования технического профиля. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На некоторые специальности проводится конкурс аттестатов.",
            price: "Стоимость обучения на платной основе: от 70 000 до 100 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (812) 123-45-67, info@spbtechcollege.ru",
            address: "190031, Санкт-Петербург, наб. канала Грибоедова, 88",
            teachers: ["Директор: Смирнов Андрей Викторович", "Зав. отделением машиностроения: Козлов Дмитрий Иванович", "Зав. отделением электротехники: Николаева Елена Сергеевна"],
            officialSite: "https://spbtechcollege.ru"
        },
        coordinates: [59.928, 30.318]
    },
    {
        id: 3,
        name: "Новосибирский медицинский колледж",
        location: "Новосибирск",
        description: "Готовит квалифицированных медицинских работников среднего звена.",
        tags: ["Государственный", "Медицина", "Новосибирск"],
        region: "novosibirsk",
        specialty: "medicine",
        image: "https://images.unsplash.com/photo-1532938911079-1b06ac7ceec7?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Новосибирский медицинский колледж готовит специалистов среднего медицинского звена для учреждений здравоохранения Новосибирской области и других регионов Сибири. Имеет современные учебные лаборатории и симуляционные центры.",
            conditions: "Обучение проводится по программам среднего профессионального образования медицинского профиля. Форма обучения: очная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем обшем образовании. На все специальности проводится конкурс аттестатов.",
            price: "Стоимость обучения на платной основе: от 90 000 до 130 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (383) 123-45-67, info@nskmedcollege.ru",
            address: "630091, Новосибирск, Красный проспект, 52",
            teachers: ["Директор: Васильева Татьяна Ивановна", "Зав. отделением сестринского дела: Петрова Ольга Михайловна", "Зав. отделением лечебного дела: Семенов Игорь Александрович"],
            officialSite: "https://nskmedcollege.ru"
        },
        coordinates: [55.030, 82.920]
    },
    {
        id: 4,
        name: "Екатеринбургский промышленно-технологический колледж",
        location: "Екатеринбург",
        description: "Крупнейший техникум Уральского региона с богатой материальной базой.",
        tags: ["Государственный", "Технический", "Екатеринбург"],
        region: "ekaterinburg",
        specialty: "tech",
        image: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Екатеринбургский промышленно-технологический колледж — одно из крупнейших учебных заведений среднего профессионального образования на Урале. Готовит специалистов для промышленных предприятий региона.",
            conditions: "Обучение проводится по программам среднего профессионального образования технического и технологического профилей. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На некоторые специальности проводится собеседование.",
            price: "Стоимость обучения на платной основе: от 60 000 до 90 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (343) 123-45-67, info@ekbptk.ru",
            address: "620014, Екатеринбург, ул. Мамина-Сибиряка, 85",
            teachers: ["Директор: Кузнецов Сергей Викторович", "Зав. отделением металлообработки: Орлов Андрей Николаевич", "Зав. отделением автоматизации: Захарова Ирина Владимировна"],
            officialSite: "https://ekbptk.ru"
        },
        coordinates: [56.838, 60.605]
    },
    {
        id: 5,
        name: "Казанский педагогический колледж",
        location: "Казань",
        description: "Готовит воспитателей, учителей начальных классов и педагогов дополнительного образования.",
        tags: ["Государственный", "Педагогика", "Казань"],
        region: "kazan",
        specialty: "pedagogy",
        image: "https://images.unsplash.com/photo-1523050854058-8df90110c9f1?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Казанский педагогический колледж готовит специалистов для системы образования: воспитателей дошкольных учреждений, учителей начальных классов, педагогов дополнительного образования.",
            conditions: "Обучение проводится по программам среднего профессионального образования педагогического профиля. Форма обучения: очная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На все специальности проводится конкурс аттестатов.",
            price: "Стоимость обучения на платной основе: от 50 000 до 80 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (843) 123-45-67, info@kazpedcollege.ru",
            address: "420111, Казань, ул. Татарстан, 68",
            teachers: ["Директор: Галиуллина Роза Харисовна", "Зав. отделением дошкольного образования: Сафиуллина Лилия Равилевна", "Зав. отделением начального образования: Хуснутдинова Алина Фаридовна"],
            officialSite: "https://kazpedcollege.ru"
        },
        coordinates: [55.796, 49.108]
    },
    {
        id: 6,
        name: "Колледж информатики и программирования при ФУ",
        location: "Москва",
        description: "Ведущее учебное заведение в области IT образования среднего профессионального образования.",
        tags: ["Государственный", "IT", "Москва"],
        region: "moscow",
        specialty: "it",
        image: "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwa90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Колледж информатики и программирования при Финансовом университете готовит специалистов в области информационных технологий, программирования и компьютерных систем.",
            conditions: "Обучение проводится по программам среднего профессионального образования IT-профиля. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На некоторые специальности может проводиться тестирование.",
            price: "Стоимость обучения на платной основе: от 100 000 до 150 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (495) 123-45-67, info@kipfu.ru",
            address: "125993, Москва, Ленинградский проспект, 51",
            teachers: ["Директор: Соколов Дмитрий Александрович", "Зав. отделением программирования: Ковалева Марина Викторовна", "Зав. отделением информационных систем: Тихонов Алексей Сергеевич"],
            officialSite: "https://kipfu.ru"
        },
        coordinates: [55.796, 37.537]
    },
    {
        id: 7,
        name: "Ростовский-на-Дону строительный колледж",
        location: "Ростов-на-Дону",
        description: "Готовит специалистов строительной отрасли с возможностью практического обучения.",
        tags: ["Государственный", "Строительство", "Ростов-на-Дону"],
        region: "rostov",
        specialty: "construction",
        image: "https://images.unsplash.com/photo-1449824913935-59a10b8d2000?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Ростовский-на-Дону строительный колледж готовит специалистов для строительной отрасли Южного федерального округа. Студенты проходят практику на ведущих строительных площадках региона.",
            conditions: "Обучение проводится по программам среднего профессионального образования строительного профиля. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На некоторые специальности проводится собеседование.",
            price: "Стоимость обучения на платной основе: от 60 000 до 90 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (863) 123-45-67, info@rostovstroycollege.ru",
            address: "344018, Ростов-на-Дону, ул. Социалистическая, 162",
            teachers: ["Директор: Попов Виктор Иванович", "Зав. отделением промышленного строительства: Федоров Олег Геннадьевич", "Зав. отделением гражданского строительства: Морозова Светлана Анатольевна"],
            officialSite: "https://rostovstroycollege.ru"
        },
        coordinates: [47.222, 39.720]
    },
    {
        id: 8,
        name: "Владивостокский морской колледж",
        location: "Владивосток",
        description: "Единственное на Дальнем Востоке учебное заведение, готовящее специалистов морского флота.",
        tags: ["Государственный", "Морское дело", "Владивосток"],
        region: "vladivostok",
        specialty: "transport",
        image: "https://images.unsplash.com/photo-1544551763-46a013bb70d5?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Владивостокский морской колледж — единственное на Дальнем Востоке учебное заведение, готовящее специалистов для морского флота: судоводителей, судомехаников, электромехаников, радистов.",
            conditions: "Обучение проводится по программам среднего профессионального образования морского профиля. Форма обучения: очная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На все специальности проводится медицинская комиссия и конкурс аттестатов.",
            price: "Стоимость обучения на платной основе: от 80 000 до 120 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (423) 123-45-67, info@vladmorcollege.ru",
            address: "690091, Владивосток, ул. Верхнепортовая, 50",
            teachers: ["Директор: Безруков Александр Николаевич", "Зав. отделением судовождения: Орлова Наталья Викторовна", "Зав. отделением судомеханики: Семенов Павел Иванович"],
            officialSite: "https://vladmorcollege.ru"
        },
        coordinates: [43.119, 131.886]
    },
    {
        id: 9,
        name: "Нижегородский политехнический колледж",
        location: "Нижний Новгород",
        description: "Крупный колледж с strong engineering программами в Приволжском регионе.",
        tags: ["Государственный", "Технический", "Нижний Новгород"],
        region: "nizhny-novgorod",
        specialty: "tech",
        image: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Нижегородский политехнический колледж — одно из ведущих учебных заведений среднего профессионального образования в Приволжском федеральном округе. Готовит специалистов для промышленных предприятий региона.",
            conditions: "Обучение проводится по программам среднего профессионального образования технического профиля. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На некоторые специальности проводится собеседование.",
            price: "Стоимость обучения на платной основе: от 65 000 до 95 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (831) 123-45-67, info@nnovpolitech.ru",
            address: "603950, Нижний Новгород, ул. Ванеева, 13",
            teachers: ["Директор: Козлов Андрей Викторович", "Зав. отделением машиностроения: Орлова Марина Сергеевна", "Зав. отделением автоматизации: Семенов Дмитрий Иванович"],
            officialSite: "https://nnovpolitech.ru"
        },
        coordinates: [56.296, 43.994]
    },
    {
        id: 10,
        name: "Краснодарский торгово-экономический колледж",
        location: "Краснодар",
        description: "Готовит специалистов для сферы торговли, экономики и сервиса.",
        tags: ["Государственный", "Экономика", "Краснодар"],
        region: "krasnodar",
        specialty: "economics",
        image: "https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Краснодарский торгово-экономический колледж готовит специалистов для сферы торговли, экономики и сервиса. Выпускники колледжа востребованы в торговых сетях, банках, страховых компаниях и других организациях.",
            conditions: "Обучение проводится по программам среднего профессионального образования экономического профиля. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На некоторые специальности проводится конкурс аттестатов.",
            price: "Стоимость обучения на платной основе: от 55 000 до 85 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (861) 123-45-67, info@ktek.ru",
            address: "350000, Краснодар, ул. Красная, 180",
            teachers: ["Директор: Петрова Елена Викторовна", "Зав. отделением экономики: Сидоров Алексей Николаевич", "Зав. отделением товароведения: Кузнецова Ольга Ивановна"],
            officialSite: "https://ktek.ru"
        },
        coordinates: [45.035, 38.975]
    },
    {
        id: 11,
        name: "Пермский нефтяной колледж",
        location: "Пермь",
        description: "Готовит специалистов для нефтегазовой отрасли Уральского региона.",
        tags: ["Государственный", "Технический", "Пермь"],
        region: "perm",
        specialty: "tech",
        image: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Пермский нефтяной колледж готовит специалистов для нефтегазовой отрасли Уральского региона. Выпускники колледжа работают на предприятиях нефтедобывающей и нефтеперерабатывающей промышленности.",
            conditions: "Обучение проводится по программам среднего профессионального образования технического профиля. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На некоторые специальности проводится собеседование.",
            price: "Стоимость обучения на платной основе: от 70 000 до 100 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (342) 123-45-67, info@permoilcollege.ru",
            address: "614990, Пермь, ул. Куйбышева, 85",
            teachers: ["Директор: Васильев Игорь Николаевич", "Зав. отделением нефтегазового дела: Петрова Марина Сергеевна", "Зав. отделением химической технологии: Семенов Дмитрий Иванович"],
            officialSite: "https://permoilcollege.ru"
        },
        coordinates: [58.010, 56.229]
    },
    {
        id: 12,
        name: "Томский индустриальный техникум",
        location: "Томск",
        description: "Готовит специалистов для промышленных предприятий Сибирского региона.",
        tags: ["Государственный", "Технический", "Томск"],
        region: "tomsk",
        specialty: "tech",
        image: "https://images.unsplash.com/photo-1581092580497-e0d23cbdf1dc?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        fallbackImage: "https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?ixlib=rb-4.0.3&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1000&q=80",
        details: {
            description: "Томский индустриальный техникум готовит специалистов для промышленных предприятий Сибирского региона. Техникум имеет современную материально-техническую базу и сотрудничает с ведущими предприятиями области.",
            conditions: "Обучение проводится по программам среднего профессионального образования технического профиля. Формы обучения: очная, очно-заочная. Имеются бюджетные и платные места.",
            exams: "Для поступления необходимо предоставить аттестат об основном общем или среднем общем образовании. На некоторые специальности проводится собеседование.",
            price: "Стоимость обучения на платной основе: от 60 000 до 90 000 рублей в год в зависимости от специальности.",
            contacts: "Приёмная комиссия: +7 (382) 123-45-67, info@tomindtech.ru",
            address: "634050, Томск, пр. Кирова, 28",
            teachers: ["Директор: Николаев Сергей Викторович", "Зав. отделением машиностроения: Орлова Елена Михайловна", "Зав. отделением автоматизации: Козлов Дмитрий Иванович"],
            officialSite: "https://tomindtech.ru"
        },
        coordinates: [56.484, 84.949]
    }
];

// Инициализация при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
    renderInstitutes();
    renderColleges();
    setupFilters();
    setupModal();
});

// Настройка модального окна
function setupModal() {
    document.getElementById('close-modal').addEventListener('click', closeDetailsModal);

    window.addEventListener('click', (event) => {
        const modal = document.getElementById('detailsModal');
        if (event.target === modal) {
            closeDetailsModal();
        }
    });
}

// Открытие модального окна с детальной информацией
function openDetailsModal(type, id) {
    let data;
    if (type === 'institute') {
        data = institutesData.find(item => item.id === id);
    } else {
        data = collegesData.find(item => item.id === id);
    }
    
    if (!data) return;
    
    const modalContent = document.getElementById("modal-content");
    modalContent.innerHTML = `
        <div class="modal-header">
            <h2 class="modal-title">${data.name}</h2>
            <div class="modal-subtitle">${data.location}</div>
        </div>
        
        <div class="modal-info-grid">
            <div class="modal-section">
                <h3 class="modal-section-title">Описание</h3>
                <p>${data.details.description}</p>
            </div>
            
            <div class="modal-section">
                <h3 class="modal-section-title">Условия обучения</h3>
                <p>${data.details.conditions}</p>
            </div>
            
            <div class="modal-section">
                <h3 class="modal-section-title">Вступительные экзамены</h3>
                <p>${data.details.exams}</p>
            </div>
            
            <div class="modal-section">
                <h3 class="modal-section-title">Стоимость обучения</h3>
                <p>${data.details.price}</p>
            </div>
            
            <div class="modal-section">
                <h3 class="modal-section-title">Контакты</h3>
                <p>${data.details.contacts}</p>
            </div>
            
            <div class="modal-section">
                <h3 class="modal-section-title">Адрес</h3>
                <p>${data.details.address}</p>
            </div>
            
            <div class="modal-section">
                <h3 class="modal-section-title">Преподаватели</h3>
                <ul class="teachers-list">
                    ${data.details.teachers.map(teacher => `<li>${teacher}</li>`).join('')}
                </ul>
            </div>
        </div>
        
        <a href="${data.details.officialSite}" target="_blank" class="official-link">Официальный сайт</a>
    `;
    
    document.getElementById("detailsModal").style.display = "block";
}

// Закрытие модального окна
function closeDetailsModal() {
    const modal = document.getElementById("detailsModal");
    modal.style.display = 'none';
}

// Показать определенный вопрос
function showQuestion(questionNum) {
    // Скрыть текущий вопрос
    document.getElementById(`question-${currentQuestion}`).classList.add('hidden');
    
    // Показать новый вопрос
    document.getElementById(`question-${questionNum}`).classList.remove('hidden');
    
    // Обновить текущий вопрос
    currentQuestion = questionNum;
    
    // Обновить прогресс-бар
    document.getElementById('progress').style.width = `${((questionNum-1)/totalQuestions)*100}%`;
}

// Рассчитать результаты на основе ответов
function calculateResults() {
    // Скрыть текущий вопрос
    document.getElementById(`question-${currentQuestion}`).classList.add('hidden');
    
    // Получить значения ответов
    const subjects = document.getElementById('subjects').value;
    const workType = document.getElementById('work-type').value;
    const field = document.getElementById('field').value;
    const tasks = document.getElementById('tasks').value;
    const values = document.getElementById('values').value;
    
    // Генерируем рекомендации на основе ответов
    let resultText = '';
    let tagsHtml = '';
    
    if (field === 'it') {
        resultText = 'Тебе подходят направления, связанные с информационными технологиями. Рекомендуем рассмотреть программы по компьютерным наукам, программной инженерии, искусственному интеллекту и数据分析.';
        tagsHtml = '<span class="tag">Программирование</span><span class="tag">AI</span><span class="tag">Data Science</span>';
    } else if (field === 'engineering') {
        resultText = 'Твои интересы лежат в области инженерии. Обрати внимание на mechanical engineering, electrical engineering, робототехнику и строительство.';
        tagsHtml = '<span class="tag">Механика</span><span class="tag">Робототехника</span><span class="tag">Конструирование</span>';
    } else if (field === 'science') {
        resultText = 'Тебе подойдет научная деятельность. Рассмотри направления: физика, химия, биология, биоинформатика или междисциплинарные research программы.';
        tagsHtml = '<span class="tag">Research</span><span class="tag">Лаборатория</span><span class="tag">Наука</span>';
    } else if (field === 'medicine') {
        resultText = 'Медицинское направление - твой выбор. Обрати внимание на лечебное дело, педиатрию, медицинскую биохимию или биоинженерию.';
        tagsHtml = '<span class="tag">Медицина</span><span class="tag">Биология</span><span class="tag">Здоровье</span>';
    } else {
        resultText = 'На основе твоих ответов мы подобрали несколько направлений, которые тебе подходят. Изучи подробнее наши рекомендации и посмотри подходящие вузы.';
        tagsHtml = '<span class="tag">Разнообразие</span><span class="tag">Перспективы</span>';
    }
    
    // Добавляем дополнительные рекомендации на основе других ответов
    if (tasks === 'analytical') {
        resultText += ' Твой интерес к аналитическим задачам suggests что тебе могут подойти направления, связанные с анализом данных, финансами или research.';
        tagsHtml += '<span class="tag">Аналитика</span>';
    }
    
    if (values === 'growth') {
        resultText += ' Важность карьерного роста indicates что тебе стоит обратить внимание на направления с хорошими перспективами развития и возможностью продолжения образования.';
        tagsHtml += '<span class="tag">Карьера</span>';
    }
    
    // Показать результаты
    document.getElementById('result-text').textContent = resultText;
    document.getElementById('result-tags').innerHTML = tagsHtml;
    document.getElementById('results').classList.remove('hidden');
    
    // Заполнить прогресс-бар полностью
    document.getElementById('progress').style.width = '100%';
}

// Отправка сообщения AI-помощнику
function sendMessage() {
    const userInput = document.getElementById('user-input');
    const message = userInput.value.trim();
    
    if (message === '') return;
    
    // Добавить сообщение пользователя в чат
    addMessage(message, 'user');
    
    // Очистить поле ввода
    userInput.value = '';
    
    // Имитация ответа нейросети (в реальном проекте здесь был бы запрос к API)
    setTimeout(() => {
        let botResponse = '';
        
        if (message.includes('балл') || message.includes('ЕГЭ') || message.includes('проходной')) {
            botResponse = 'Проходные баллы зависят от вуза и конкретного направления. В престижных вузах на популярные специальности проходной балл может достигать 90+. Рекомендую уточнить на сайтах конкретных университетов. Могу помочь подобрать варианты с учетом твоих预估 баллов.';
        } else if (message.includes('общежитие') || message.includes('жилье') || message.includes('иногород')) {
            botResponse = 'Многие вузы предоставляют общежития для иногородних студентов. Условия и availability сильно vary. В ведущих университетах обычно есть места в общежитиях для всех нуждающихся. Лучше уточнить этот вопрос в приемной комиссии выбранного университета. Некоторые колледжи также предоставляют общежития.';
        } else if (message.includes('программирование') || message.includes('IT') || message.includes('информатик')) {
            botResponse = 'Для IT направлений рекомендую рассмотреть МФТИ, ИТМО, МГТУ им. Баумана, ВШЭ, МГУ, СПбГУ. Также есть хорошие программы в региональных вузах: УрФУ, КФУ, НГУ. Из колледжей обрати внимание на Колледж информатики и программирования при ФУ, а также технические колледжи в крупных городах.';
        } else if (message.includes('стоимость') || message.includes('цена') || message.includes('бюджет')) {
            botResponse = 'Стоимость обучения зависит от вуза и специальности. В государственных вузах цена колеблется от 100 000 до 500 000 рублей в год. Есть возможность получить скидки за хорошую успеваемость. Бюджетные места доступны на конкурсной основе. В колледжах стоимость обычно ниже - от 50 000 до 150 000 рублей в год.';
        } else if (message.includes('медицин') || message.includes('мед') || message.includes('врач')) {
            botResponse = 'Лучшие медицинские образования можно получить в Первом МГМУ им. Сеченова, РНИМУ им. Пирогова, СПбГПМУ, КГМУ. Также consider медицинские факультеты классических университетов. Для начала медицинской карьеры можно рассмотреть медицинские колледжи, которые готовят медсестер, фельдшеров и других специалистов среднего звена.';
        } else if (message.includes('колледж') || message.includes('техникум') || message.includes('СПО')) {
            botResponse = 'Колледжи и техникумы предлагают программы среднего профессионального образования. Обучение длится от 2 до 4 лет и дает практические навыки для трудоустройства. Многие колледжи сотрудничают с вузами, позволяя продолжить образование по сокращенной программе. Это хороший вариант для тех, кто хочет быстрее начать работать или получить практическую профессию.';
        } else if (message.includes('инженер') || message.includes('технич')) {
            botResponse = 'Для инженерных специальностей рекомендую МГТУ им. Баумана, МФТИ, СПбПУ, МИФИ, ТПУ, УрФУ. Инженерное образование также можно получить во многих политехнических университетах России. Из колледжей обрати внимание на технические и политехнические колледжи, которые готовят техников и специалистов среднего звена для промышленности.';
        } else if (message.includes('экономик') || message.includes('бизнес') || message.includes('менеджмент')) {
            botResponse = 'Для экономических специальностей лучшими считаются ВШЭ, РЭУ им. Плеханова, МГУ, СПбГУ, ФУ при Правительстве РФ. Также strong программы есть в региональных университетах: КФУ, УрФУ, НГУ. Из колледжей можно рассмотреть торгово-экономические колледжи и колледжи управления.';
        } else if (message.includes('творч') || message.includes('искусств') || message.includes('дизайн')) {
            botResponse = 'Для творческих специальностей рекомендую рассмотреть Строгановку, Мухинское училище, ГИТИС, ВГИК, РАТИ, консерватории и художественные институты. Многие университеты также имеют творческие факультеты. Из колледжей есть художественные училища, музыкальные училища и колледжи искусств.';
        } else if (message.includes('военн') || message.includes('армия') || message.includes('силов')) {
            botResponse = 'Военное образование можно получить в специализированных военных училищах и академиях. Для поступления нужно пройти дополнительный отбор и медицинскую комиссию. Военные вузы предоставляют полное обеспечение и стипендию, но требуют обязательной отработки после окончания.';
        } else if (message.includes('юриспруд') || message.includes('право') || message.includes('адвокат')) {
            botResponse = 'Юридическое образование можно получить в МГУ, СПбГУ, МГЮА, ВШЭ, РУДН, а также в региональных университетах. Обрати внимание на специализацию: гражданское право, уголовное право, международное право. Из колледжей可以考虑 юридические колледжи, которые готовят юристов среднего звена.';
        } else if (message.includes('педагог') || message.includes('учитель') || message.includes('образован')) {
            botResponse = 'Педагогическое образование можно получить в педагогических университетах (МПГУ, РГПУ им. Герцена, НГПУ) а также в классических университетах с педагогическими факультетами. Многие колледжи также готовят учителей начальных классов, воспитателей и педагогов дополнительного образования.';
        } else if (message.includes('перевод') || message.includes('лингвист') || message.includes('язык')) {
            botResponse = 'Для лингвистических специальностей рекомендую МГЛУ, НИУ ВШЭ, МГУ, СПбГУ, РУДН. Также strong программы есть в региональных университетах. Обрати внимание на специализацию: перевод, преподавание, теория языка. Из колледжей есть лингвистические колледжи и колледжи с углубленным изучением языков.';
        } else {
            botResponse = 'Спасибо за ваш вопрос! Я рекомендую изучить информацию на сайтах учебных заведений, посмотреть отзывы студентов, а также посетить дни открытых дверей. Это поможет сделать informed decision. Если у тебя есть конкретные вопросы о специальностях, вузах или процессе поступления, задавай - я постараюсь помочь!';
        }
        
        addMessage(botResponse, 'bot');
    }, 1000);
}

// Добавить сообщение в чат
function addMessage(text, sender) {
    const chatMessages = document.getElementById('chat-messages');
    const messageDiv = document.createElement('div');
    messageDiv.classList.add('message');
    messageDiv.classList.add(sender === 'user' ? 'user-message' : 'bot-message');
    messageDiv.textContent = text;
    chatMessages.appendChild(messageDiv);
    
    // Прокрутить вниз
    chatMessages.scrollTop = chatMessages.scrollHeight;
}

// Рендеринг институтов с изображениями
function renderInstitutes() {
    const container = document.getElementById('institutes-container');
    container.innerHTML = '';
    
    institutesData.forEach(institute => {
        const card = document.createElement('div');
        card.className = 'institute-card';
        card.dataset.region = institute.region;
        card.dataset.field = institute.field;
        card.dataset.form = institute.form;
        
        card.innerHTML = `
            <div class="institute-img">
                <img src="${institute.image}" alt="${institute.name}" onerror="this.onerror=null; this.src='${institute.fallbackImage}'; this.alt='${institute.name} - основное изображение недоступно';">
            </div>
            <div class="institute-info">
                <h3 class="institute-name">${institute.name}</h3>
                <div class="institute-location">${institute.location}</div>
                <p class="institute-desc">${institute.description}</p>
                <div class="tags">
                    ${institute.tags.map(tag => `<span class="tag">${tag}</span>`).join('')}
                </div>
                <button class="btn btn-outline" onclick="openDetailsModal('institute', ${institute.id})">Подробнее</button>
            </div>
        `;
        container.appendChild(card);
    });
}

// Рендеринг колледжей с изображениями
function renderColleges() {
    const container = document.getElementById('colleges-container');
    container.innerHTML = '';
    
    collegesData.forEach(college => {
        const card = document.createElement('div');
        card.className = 'college-card';
        card.dataset.region = college.region;
        card.dataset.specialty = college.specialty;
        
        card.innerHTML = `
            <div class="college-img">
                <img src="${college.image}" alt="${college.name}" onerror="this.onerror=null; this.src='${college.fallbackImage}'; this.alt='${college.name} - основное изображение недоступно';">
            </div>
            <div class="college-info">
                <h3 class="college-name">${college.name}</h3>
                <div class="college-location">${college.location}</div>
                <p class="college-desc">${college.description}</p>
                <div class="tags">
                    ${college.tags.map(tag => `<span class="tag college-tag">${tag}</span>`).join('')}
                </div>
                <button class="btn btn-outline" style="border-color: var(--college-color); color: var(--college-color);" onclick="openDetailsModal('college', ${college.id})">Подробнее</button>
            </div>
        `;
        container.appendChild(card);
    });
}

// Настройка фильтров
function setupFilters() {
    // Поиск институтов
    document.getElementById('search-institutes').addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        filterInstitutes(searchTerm);
    });
    
    // Поиск колледжей
    document.getElementById('search-colleges').addEventListener('input', function(e) {
        const searchTerm = e.target.value.toLowerCase();
        filterColleges(searchTerm);
    });
    
    // Фильтры институтов
    document.getElementById('region-filter').addEventListener('change', filterInstitutesByCriteria);
    document.getElementById('field-filter').addEventListener('change', filterInstitutesByCriteria);
    document.getElementById('form-filter').addEventListener('change', filterInstitutesByCriteria);
    
    // Фильтры колледжей по регионам
    document.getElementById('region-college-filter').addEventListener('change', function() {
        const region = this.value;
        filterCollegesByRegion(region);
    });
    
    // Фильтры колледжей по специальностям
    document.getElementById('specialty-college-filter').addEventListener('change', function() {
        const specialty = this.value;
        filterCollegesBySpecialty(specialty);
    });
}

// Фильтрация институтов
function filterInstitutes(searchTerm) {
    const institutes = document.querySelectorAll('.institute-card');
    
    institutes.forEach(card => {
        const name = card.querySelector('.institute-name').textContent.toLowerCase();
        const location = card.querySelector('.institute-location').textContent.toLowerCase();
        const desc = card.querySelector('.institute-desc').textContent.toLowerCase();
        const tags = card.querySelectorAll('.tag');
        
        let found = false;
        if (name.includes(searchTerm) || location.includes(searchTerm) || desc.includes(searchTerm)) {
            found = true;
        }
        
        tags.forEach(tag => {
            if (tag.textContent.toLowerCase().includes(searchTerm)) {
                found = true;
            }
        });
        
        card.style.display = found ? 'block' : 'none';
    });
}

// Фильтрация институтов по критериям
function filterInstitutesByCriteria() {
    const region = document.getElementById('region-filter').value;
    const field = document.getElementById('field-filter').value;
    const form = document.getElementById('form-filter').value;
    const searchTerm = document.getElementById('search-institutes').value.toLowerCase();
    
    const institutes = document.querySelectorAll('.institute-card');
    
    institutes.forEach(card => {
        let show = true;
        
        if (region && card.dataset.region !== region) {
            show = false;
        }
        
        if (field && card.dataset.field !== field) {
            show = false;
        }
        
        if (form && card.dataset.form !== form) {
            show = false;
        }
        
        if (searchTerm) {
            const name = card.querySelector('.institute-name').textContent.toLowerCase();
            const location = card.querySelector('.institute-location').textContent.toLowerCase();
            const desc = card.querySelector('.institute-desc').textContent.toLowerCase();
            const tags = card.querySelectorAll('.tag');
            
            let found = false;
            if (name.includes(searchTerm) || location.includes(searchTerm) || desc.includes(searchTerm)) {
                found = true;
            }
            
            tags.forEach(tag => {
                if (tag.textContent.toLowerCase().includes(searchTerm)) {
                    found = true;
                }
            });
            
            show = show && found;
        }
        
        card.style.display = show ? 'block' : 'none';
    });
}

// Фильтрация колледжей
function filterColleges(searchTerm) {
    const colleges = document.querySelectorAll('.college-card');
    
    colleges.forEach(card => {
        const name = card.querySelector('.college-name').textContent.toLowerCase();
        const location = card.querySelector('.college-location').textContent.toLowerCase();
        const desc = card.querySelector('.college-desc').textContent.toLowerCase();
        const tags = card.querySelectorAll('.tag');
        
        let found = false;
        if (name.includes(searchTerm) || location.includes(searchTerm) || desc.includes(searchTerm)) {
            found = true;
        }
        
        tags.forEach(tag => {
            if (tag.textContent.toLowerCase().includes(searchTerm)) {
                found = true;
            }
        });
        
        card.style.display = found ? 'block' : 'none';
    });
}

// Фильтрация колледжей по регионам
function filterCollegesByRegion(region) {
    const colleges = document.querySelectorAll('.college-card');
    
    colleges.forEach(card => {
        if (!region || card.dataset.region === region) {
            card.style.display = 'block';
        } else {
            card.style.display = 'none';
        }
    });
}

// Фильтрация колледжей по специальностям
function filterCollegesBySpecialty(specialty) {
    const colleges = document.querySelectorAll('.college-card');
    
    colleges.forEach(card => {
        if (!specialty || card.dataset.specialty === specialty) {
            card.style.display = 'block';
        } else {
            card.style.display = 'none';
        }
    });
}

// Смена вкладок в разделе колледжей
function changeCollegeTab(tabId) {
    // Скрыть все вкладки
    document.querySelectorAll('.tab-content').forEach(tab => {
        tab.classList.remove('active');
    });
    
    // Показать выбранную вкладку
    document.getElementById(tabId).classList.add('active');
    
    // Обновить активную вкладку
    document.querySelectorAll('.tab').forEach(tab => {
        tab.classList.remove('active');
    });
    event.target.classList.add('active');
}

// Функционал для FAQ на странице контактов
function initFAQ() {
    const faqItems = document.querySelectorAll('.faq-item');
    
    faqItems.forEach(item => {
        const question = item.querySelector('.faq-question');
        
        question.addEventListener('click', () => {
            // Закрываем все остальные элементы
            faqItems.forEach(otherItem => {
                if (otherItem !== item && otherItem.classList.contains('active')) {
                    otherItem.classList.remove('active');
                }
            });
            
            // Переключаем текущий элемент
            item.classList.toggle('active');
        });
    });
}

// Инициализация при загрузке страницы
document.addEventListener('DOMContentLoaded', function() {
    // Если мы на странице контактов, инициализируем FAQ
    if (document.querySelector('.faq-list')) {
        initFAQ();
    }
    
    // Обработка формы обратной связи
    const contactForm = document.querySelector('.contact-form');
    if (contactForm) {
        contactForm.addEventListener('submit', function(e) {
            e.preventDefault();
            alert('Спасибо за ваше сообщение! Мы свяжемся с вами в ближайшее время.');
            this.reset();
        });
    }
});

// Плавная прокрутка к якорям 
document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function(e) {
        e.preventDefault();
        
        const targetId = this.getAttribute('href');
        if (targetId === '#') return;
        
        const targetElement = document.querySelector(targetId);
        if (targetElement) {
            window.scrollTo({
                top: targetElement.offsetTop - 100,
                behavior: 'smooth'
            });
        }
    });
});
